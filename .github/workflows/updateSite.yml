name: Update the Website
run-name: ${{ github.actor }} has pushed a change to the site.
on:
  push:
    branches:
      - main
      - workflow
concurrency:
  group: deployment
  cancel-in-progress: true
jobs:
  Build-Site-Content:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ðŸŽ‰ The job was automatically triggered by a ${{ github.event_name }} event."
      - name: Check out repository code
        uses: actions/checkout@v4
      - name: instal node modules
        # TODO cache node modules, if it is out bottlneck, it was last time
        run: npm install
      - name: Cache new site content
        uses: actions/cache@v4
        with:
          path: ./_site
          key: ${{runner.os}}-site-content
      - name: Build Site Content
        run: npm run build
      - name: verify output
        run: ls; echo ${PWD}; cat ${{github.workspace}}/_site/index.hmtl
